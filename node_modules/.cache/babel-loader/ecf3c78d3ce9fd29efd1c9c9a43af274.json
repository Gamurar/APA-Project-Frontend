{"ast":null,"code":"var _jsxFileName = \"/home/gamurar/mastertoken/frontend/src/pages/Register/Register.tsx\",\n    _s = $RefreshSig$();\n\nimport './Register.css';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, Redirect } from 'react-router-dom';\nimport AuthService from '../../services/auth.service';\nimport { registerSuccess, registerFail } from '../../app/authSlice';\nimport BaseButton from '../../components/Views/Button/Button';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Button = styled(BaseButton)`\n  font-size: 14px;\n  margin-left: auto; \n  &:hover,\n  &:focus {\n    border: 2px solid rgba(112, 76, 182, 0.4);\n  }\n\n  &:active {\n    background-color: rgba(112, 76, 182, 0.2);\n  }\n`;\n_c = Button;\n\nconst Register = props => {\n  _s();\n\n  const [userEmail, setUserEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const {\n    isLoggedIn,\n    message\n  } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n\n  const onChangeEmail = e => {\n    const email = e.target.value;\n    setUserEmail(email);\n  };\n\n  const onChangePassword = e => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleRegistration = e => {\n    e.preventDefault();\n    setLoading(true);\n    AuthService.register({\n      email: userEmail,\n      password\n    }).then(data => {\n      console.log({\n        data\n      });\n\n      if (data) {\n        dispatch(registerSuccess());\n      } else {\n        dispatch(registerFail());\n      }\n    }).catch(() => {\n      setLoading(false);\n    });\n  };\n\n  if (isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register__header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__title\",\n        children: \"Create an account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__create\",\n        children: [\"or\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"header__link\",\n          children: \"log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleRegistration,\n      className: \"register__form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form__field\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"field__input\",\n          name: \"email\",\n          value: userEmail,\n          placeholder: \"Email\",\n          onChange: onChangeEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form__field\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"field__input\",\n          name: \"password\",\n          value: password,\n          placeholder: \"Password\",\n          onChange: onChangePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form__actions\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"spinner-border spinner-border-sm\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Create an account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 95\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red'\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"X1g5XoJFuAcYfRdTIPaDbi/0TOc=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c2 = Register;\nexport default Register;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Button\");\n$RefreshReg$(_c2, \"Register\");","map":{"version":3,"sources":["/home/gamurar/mastertoken/frontend/src/pages/Register/Register.tsx"],"names":["React","useState","useDispatch","useSelector","Link","Redirect","AuthService","registerSuccess","registerFail","BaseButton","styled","Button","Register","props","userEmail","setUserEmail","password","setPassword","loading","setLoading","isLoggedIn","message","state","auth","dispatch","onChangeEmail","e","email","target","value","onChangePassword","handleRegistration","preventDefault","register","then","data","console","log","catch","color"],"mappings":"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","sourcesContent":["import './Register.css';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, Redirect } from 'react-router-dom';\nimport { RootState } from '../../app/store';\nimport AuthService from '../../services/auth.service';\nimport { registerSuccess, registerFail } from '../../app/authSlice';\nimport BaseButton from '../../components/Views/Button/Button';\nimport styled from 'styled-components';\n\nconst Button = styled(BaseButton)`\n  font-size: 14px;\n  margin-left: auto; \n  &:hover,\n  &:focus {\n    border: 2px solid rgba(112, 76, 182, 0.4);\n  }\n\n  &:active {\n    background-color: rgba(112, 76, 182, 0.2);\n  }\n`;\n\nconst Register = (props: any) => {\n  const [userEmail, setUserEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const { isLoggedIn, message } = useSelector((state: RootState) => state.auth);\n\n  const dispatch = useDispatch();\n\n  const onChangeEmail = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const email = e.target.value;\n    setUserEmail(email);\n  };\n\n  const onChangePassword = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleRegistration = (e: React.SyntheticEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    AuthService.register({ email: userEmail, password })\n      .then((data) => {\n        console.log({ data });\n        if (data) {\n          dispatch(registerSuccess());\n        } else {\n          dispatch(registerFail());\n        }\n      })\n      .catch(() => {\n        setLoading(false);\n      });\n  };\n\n  if (isLoggedIn) {\n    return <Redirect to=\"/dashboard\" />;\n  }\n\n  return (\n    <div className=\"register\">\n      <div className=\"register__header\">\n        <div className=\"header__title\">Create an account</div>\n        <div className=\"header__create\">\n          or{' '}\n          <Link to=\"/login\" className=\"header__link\">\n            log in\n          </Link>\n        </div>\n      </div>\n      <form onSubmit={handleRegistration} className=\"register__form\">\n        <div className=\"form__field\">\n          <input\n            type=\"text\"\n            className=\"field__input\"\n            name=\"email\"\n            value={userEmail}\n            placeholder=\"Email\"\n            onChange={onChangeEmail}\n          />\n        </div>\n\n        <div className=\"form__field\">\n          <input\n            type=\"password\"\n            className=\"field__input\"\n            name=\"password\"\n            value={password}\n            placeholder=\"Password\"\n            onChange={onChangePassword}\n          />\n        </div>\n\n        <div className=\"form__actions\">\n          <Button disabled={loading}>\n            {loading ? <span className=\"spinner-border spinner-border-sm\">Loading...</span> : <span>Create an account</span>}\n          </Button>\n        </div>\n\n        {message && <div style={{ color: 'red' }}>{message}</div>}\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}